#include <iostream>
#include <conio.h>
#include <windows.h>

using namespace std;

class enemigo{
	
	private: 
	public:
		void mostrar_territorio();
		void borrado(int, int);
		void pintado(int, int);
		void movimiento_tablero(int &, int &);
};

char ma[22][22] =   {{' ',' ','A',' ','B',' ','C',' ','D',' ','E',' ','F',' ','G',' ','H',' ','I',' ','J',' '},
    			    {' ',' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '},
				    {'0','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
				    {'1','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
				    {'2','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
				    {'3','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
				    {'4','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
				    {'5','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
				    {'6','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
				    {'7','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
				    {'8','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|'},
				    {'9','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|',' ','|'},
				    {' ',' ','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-',' '},};

void gotoxy(int x, int y){
	
	HANDLE hcon = GetStdHandle(STD_OUTPUT_HANDLE);
		COORD dwPos;
		dwPos.X = x;
		dwPos.Y = y;
		
	SetConsoleCursorPosition(hcon, dwPos);
}

void enemigo::mostrar_territorio()
{
	int i, j;
	
	for(i = 0; i < 22; i++)
	{	cout << endl;
		for(j = 0; j < 22; j++)
		{
			cout << ma[i][j];
		}
	}
}

void enemigo::borrado(int x, int y)
{
	gotoxy(x,y); cout << " ";
}

void enemigo::pintado(int x, int y)
{
	gotoxy(x,y); cout << "O";
}

void enemigo::movimiento_tablero(int &x, int &y)
{
	if(kbhit())
	{
		enemigo::borrado(x,y);
		char tecla = getch();
		
		if(tecla == 'a' && x > 2) x -= 2;
		if(tecla == 'd' && x < 20) x += 2;
		if(tecla == 'w' && y > 3) y -= 2;
		if(tecla == 's' && y < 21) y += 2;
		enemigo::pintado(x,y);
	}
}

class jugador{
	public:
		void pintar_portaviones(int, int, int);
		void borrar_portaviones(int, int, int);
		void mover_portaviones(int &, int &, int);
};

void jugador::pintar_portaviones(int x, int y, int c)
{
	if(c == 0)
	{
		gotoxy(x,y); cout <<"P";
		gotoxy(x,y+2); cout <<"P";
		gotoxy(x,y+4); cout <<"P";
		gotoxy(x,y+6); cout <<"P";
	}else{
		gotoxy(x,y); cout <<"P";
		gotoxy(x+2,y); cout <<"P";
		gotoxy(x+4,y); cout <<"P";
		gotoxy(x+6,y); cout <<"P";
	}
}

int main()
{
	int row1 = 2, col1 = 3;
	int row2 = 2, col2 = 28; 
	enemigo a;
	jugador b;
	
	a.mostrar_territorio();
	gotoxy(0,25); 
	a.mostrar_territorio();
		
	b.pintar_portaviones(2,10,0);
	
	while(1)
	{
		a.movimiento_tablero(row1,col1);	
	}
}
